#:kivy 1.11.1
#:import Window kivy.core.window.Window

<HomeScreen>:
    BoxLayout:
        orientation: 'vertical'
        #arranged components on top of each other
        BoxLayout: 
            size_hint_y: 0.08
            Label:
                text: 'Welcome to Astunut!'
                font_size: 100
                font_name: './fonts/absolutepink.otf'
        #no restrictions
        FloatLayout: 
            size_hint_y: 0.92
            #getting the before group
            canvas.before: 
                Rectangle:
                    pos: self.pos
                    size: self.size
                    source: './images/galaxybackground.jpg'
            Button:
                background_color: 0,0,0,0
                text: 'Start'
                font_size: 150
                font_name: './fonts/halfelvencond.ttf'
                on_press: app.play_plop_sound('LEVELS')
                pos_hint: {'center_x': .5, 'center_y': .6}
                size: 350,180
                size_hint: None, None
            BoxLayout:
                orientation: 'vertical'
                pos_hint: {'x': .5, 'y': .2}
                Image:
                    source: './images/astro.png'
                    pos_hint: {'center_x': 0, 'y': .5}
                    size: 250,250
                    size_hint: None, None
                Button:
                    background_color: 0.1,0.3,0.7,0.8
                    text: 'Compass'
                    font_size: 50
                    font_name: './fonts/halfelvencond.ttf'
                    on_press: app.play_plop_sound('INSTRUCTIONS')
                    pos_hint: {'center_x': 0, 'y': 0}
                    size: 250,100
                    size_hint: None, None

<LevelsScreen>:
#represents the entire screen, to enable the use of size_hint_y
    BoxLayout: 
        #stacked vertically 
        orientation: 'vertical' 
        FloatLayout: 
        #size for the top, dimension from the parent boxlayout
            size_hint_y: 0.9  
            canvas.before:
                Rectangle:
                    pos: self.pos
                    size: self.size
                    source: './images/galaxybackground.jpg'
            Button:
                background_color: 0,0,0,0
                on_press: app.play_star_sound('LEVEL1')
                pos_hint: {'center_x': .5, 'center_y': .75}
                size: 200, 200
                size_hint: None, None
                Image:
                    source: './images/star.png'
                    #scale image to be the same as the button, when clicked it act as a button
                    y: self.parent.y 
                    x: self.parent.x
                    size: 200, 200  
                    #allows image according to the size 
                    allow_stretch: True 
            Label:
                text: 'Level 1'
                font_size: 50
                font_name: './fonts/halfelvencond.ttf'
                pos_hint: {'center_x': .5, 'center_y':.63}
            Button:
                background_color: 0,0,0,0
                on_press: app.play_star_sound('LEVEL2')
                pos_hint: {'center_x': .5, 'center_y': .5}
                size: 200, 200
                size_hint: None, None
                Image:
                    source: './images/star.png'
                    y: self.parent.y
                    x: self.parent.x
                    size: 200, 200
                    allow_stretch: True
            Label:
                text: 'Level 2'
                font_size: 50
                font_name: './fonts/halfelvencond.ttf'
                pos_hint: {'center_x': .5, 'center_y':.38}
            Button:
                background_color: 0,0,0,0
                on_press: app.play_star_sound('LEVEL3')
                pos_hint: {'center_x': .5, 'center_y': .25}
                size: 200, 200
                size_hint: None, None
                Image:
                    source: './images/star.png'
                    y: self.parent.y
                    x: self.parent.x
                    size: 200, 200
                    allow_stretch: True
            Label:
                text: 'Level 3'
                font_size: 50
                font_name: './fonts/halfelvencond.ttf'
                pos_hint: {'center_x': .5, 'center_y':.13}
        BoxLayout:
            size_hint_y: 0.1 #size for back button 
            Button:
                background_color: 0,0,1,0.8
                text: 'Back'
                font_size: 100
                font_name: './fonts/absolutepink.otf'
                on_press: app.play_plop_sound('HOME')

<InstructionsScreen>:
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 0.9
            orientation: 'vertical'
            Label:
                size_hint_y: 0.1
                text: '--COMPASS--'
                font_size: 100
                font_name: './fonts/absolutepink.otf'
            GridLayout:
                size_hint_y: 0.9
                cols: 2
                Image:
                    source: './images/astro.png'
                    size_hint_x: 0.3
                Label:
                    text: "Hello, I am lonely and love music.\nStars are musical notes of the galaxy. Help me collect them all!\n Press 'A' to move left, 'D' to move right, 'W' to jump!"
                    multiline: True
                    valign: 'middle'
                    #takes size of label 
                    text_size: self.size
                    font_size: 65
                    font_name: './fonts/absolutepink.otf'
                    size_hint_x: 0.7
                Image:
                    source: './images/hook.png'
                    size_hint_x: 0.3
                Label:
                    text: 'Time-based hook.\nPress SPACEBAR'
                    multiline: True
                    valign: 'middle'
                    text_size: self.size
                    font_size: 70
                    font_name: './fonts/absolutepink.otf'
                    size_hint_x: 0.7
                Image:
                    source: './images/star3.png'
                    size_hint_x: 0.3
                Label:
                    text: 'Collect ALL the Stars!'
                    valign: 'middle'
                    text_size: self.size
                    font_size: 70
                    font_name: './fonts/absolutepink.otf'
                    size_hint_x: 0.7
                Image:
                    source: './images/blackhole.png'
                    size_hint_x: 0.3
                Label:
                    text: 'Avoid the BLACKHOLE!'
                    valign: 'middle'
                    text_size: self.size
                    font_size: 70
                    font_name: './fonts/absolutepink.otf'
                    size_hint_x: 0.7
                Image:
                    source: './images/porcupine.png'
                    size_hint_x: 0.3
                Label:
                    text: 'ANNOYING ANIMALS are here to disturb you!'
                    valign: 'middle'
                    text_size: self.size
                    font_size: 70
                    font_name: './fonts/absolutepink.otf'
                    size_hint_x: 0.7 
        Button:
            size_hint_y: 0.1
            background_color: 0,0,1,0.8
            text: 'Back'
            font_size: 100
            font_name: './fonts/absolutepink.otf'
            on_press: app.play_plop_sound('HOME')

<Level1Screen>:
#1 refers to screenNum 1=> LEVEL1
    on_enter: app.screen_on_enter(1) 
    on_pre_leave: app.screen_on_leave(1)

    FloatLayout:
    #giving the float layout an id
        id: layout_lvl1 
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: './images/galaxybackground.jpg'
    # Label:
    #     id: score_lvl1
    #     text: 'Score: 0'
    #     color: 0,0,1,1
    #     font_size: 100
    #     font_name: './fonts/absolutepink.otf'
    Label:
        text: 'Level 1'
        font_size: 150
        font_name: './fonts/absolutepink.otf'
        pos_hint: {'center_x': .5, 'center_y': .95}
        size: 300,150
    Button:
        background_color: 0,0,0,0
        text: 'Back'
        font_size: 100
        font_name: './fonts/absolutepink.otf'
        on_press: root.manager.current = 'LEVELS'
        pos_hint: {'center_x': .95, 'center_y': .95}
        size: 250, 100
        size_hint: None, None
    # Button:
    #     background_color: 0,0,0,0
    #     on_press: root.manager.current = 'ADVANCE'
    #     pos_hint: {'center_x': .93, 'center_y': .07}
    #     size: 200, 200
    #     size_hint: None, None
    #     Image:
    #         source: './images/portal.png'
    #         y: self.parent.y
    #         x: self.parent.x
    #         size: 200, 200
    #         allow_stretch: True

<Level2Screen>:
    on_enter: app.screen_on_enter(2)
    on_pre_leave: app.screen_on_leave(2)
    FloatLayout:
        id: layout_lvl2
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: './images/galaxybackground.jpg'
    # Label:
    #     id: score_lvl1
    #     text: 'Score: 0'
    #     color: 0,0,1,1
    #     font_size: 100
    #     font_name: './fonts/absolutepink.otf'
    Label:
        text: 'Level 2'
        font_size: 150
        font_name: './fonts/absolutepink.otf'
        pos_hint: {'center_x': .5, 'center_y': .95}
        size: 300,150
        size_hint: None, None
    Button:
        background_color: 0,0,0,0
        text: 'Back'
        font_size: 100
        font_name: './fonts/absolutepink.otf'
        on_press: root.manager.current = 'LEVELS'
        pos_hint: {'center_x': .95, 'center_y': .95}
        size: 250, 100
        size_hint: None, None
    # Button:
    #     background_color: 0,0,0,0
    #     on_press: root.manager.current = 'ADVANCE'
    #     pos_hint: {'center_x': .93, 'center_y': .07}
    #     size: 200, 200
    #     size_hint: None, None
    #     Image:
    #         source: './images/portal.png'
    #         y: self.parent.y
    #         x: self.parent.x
    #         size: 200, 200
    #         allow_stretch: True

<Level3Screen>:
    on_enter: app.screen_on_enter(3)
    #on_pre_leave => before it changes screen, it executes screen_on_leave
    on_pre_leave: app.screen_on_leave(3)
    FloatLayout:
        id: layout_lvl3
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: './images/galaxybackground.jpg'
    # Label:
    #     id: score_lvl1
    #     text: 'Score: 0'
    #     color: 0,0,1,1
    #     font_size: 100
    #     font_name: './fonts/absolutepink.otf'
    Label:
        text: 'Level 3'
        font_size: 150
        font_name: './fonts/absolutepink.otf'
        pos_hint: {'center_x': .5, 'center_y': .95}
        size: 300,150
        size_hint: None, None
    Button:
        background_color: 0,0,0,0
        text: 'Back'
        font_size: 100
        font_name: './fonts/absolutepink.otf'
        on_press: root.manager.current = 'LEVELS'
        pos_hint: {'center_x': .95, 'center_y': .95}
        size: 250, 100
        size_hint: None, None
    # Button:
    #     background_color: 0,0,0,0
    #     on_press: root.manager.current = 'WIN'
    #     pos_hint: {'center_x': .93, 'center_y': .07}
    #     size: 200, 200
    #     size_hint: None, None
    #     Image:
    #         source: './images/portal.png'
    #         y: self.parent.y
    #         x: self.parent.x
    #         size: 200, 200
    #         allow_stretch: True

 
        # FloatLayout: 
        # #size for the top, dimension from the parent boxlayout
        #     size_hint_y: 0.9  
            
        #     Button:
        #         background_color: 0,0,0,0
        #         on_press: app.play_star_sound('LEVEL1')
        #         pos_hint: {'center_x': .5, 'center_y': .75}
        #         size: 200, 200
        #         size_hint: None, None
        #         Image:
        #             source: './images/star.png'
        #             #scale image to be the same as the button, when clicked it act as a button
        #             y: self.parent.y 
        #             x: self.parent.x
        #             size: 200, 200  
        #             #allows image according to the size 
        #             allow_stretch: True 


<WinScreen>:
    BoxLayout:
        orientation: 'vertical'
        FloatLayout: 
        #size for the top, dimension from the parent boxlayout
            canvas.before:
                Rectangle:
                    pos: self.pos
                    size: self.size
                    source: './images/galaxybackground.jpg'

            Label:
                text: "You Win!"
                font_size: 500
                font_name: './fonts/absolutepink.otf'
                pos_hint: {'center_x': .5, 'center_y': .6}
            
            Button:
                background_color: 0,0,0,0
                on_press: app.play_plop_sound('HOME')
                pos_hint: {'center_x': .5, 'center_y': .30}
                size: 500,500
                size_hint: None, None
                Image:
                    source: './images/backhome.png'
                    #parent is the button. to scale to same size
                    y: self.parent.y 
                    x: self.parent.x
                    size: 500,500
                    #allows image according to the size 
                    allow_stretch: True 
            

<LoseScreen>:
    BoxLayout:
        orientation: 'vertical'
        FloatLayout: 
        #size for the top, dimension from the parent boxlayout
            canvas.before:
                Rectangle:
                    pos: self.pos
                    size: self.size
                    source: './images/youlose.jpg'

            Label:
                text: "You Lose!"
                colour: 1,0,1,1
                font_size: 500
                font_name: './fonts/absolutepink.otf'
                pos_hint: {'center_x': .5, 'center_y': .6}
            
            Button:
                background_color: 0,0,0,0
                on_press: app.play_plop_sound('LEVELS')
                pos_hint: {'center_x': .5, 'center_y': .30}
                size: 500,500
                size_hint: None, None
                Image:
                    source: './images/replay.png'
                    #parent is the button. to scale to same size
                    y: self.parent.y 
                    x: self.parent.x
                    size: 500,500
                    #allows image according to the size 
                    allow_stretch: True 




